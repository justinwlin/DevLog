"use strict";(self.webpackChunkjustin_dev_log=self.webpackChunkjustin_dev_log||[]).push([[329],{6309:e=>{e.exports=JSON.parse('{"blogPosts":[{"id":"welcome-dev-log","metadata":{"permalink":"/DevBlog/blog/welcome-dev-log","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/index.md","source":"@site/blog/index.md","title":"Welcome to my blog!","description":"Welcome to my blog! My name is Justin Lin, I\'m a software engineer, and this is a place for me to just document things that I want to share. Often there might be projects, random thoughts, or instructional posts. I hope you enjoy!","date":"2022-10-31T02:32:50.000Z","formattedDate":"October 31, 2022","tags":[],"readingTime":0.29,"hasTruncateMarker":false,"authors":[],"frontMatter":{"slug":"welcome-dev-log","title":"Welcome to my blog!"},"nextItem":{"title":"My favorite settings for Working in Immersed Mac","permalink":"/DevBlog/blog/immersed-settings"}},"content":"Welcome to my blog! My name is Justin Lin, I\'m a software engineer, and this is a place for me to just document things that I want to share. Often there might be projects, random thoughts, or instructional posts. I hope you enjoy!\\n\\nIf you are interested to contact me, feel free to reach out to me at"},{"id":"immersed-settings","metadata":{"permalink":"/DevBlog/blog/immersed-settings","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2022-09-31-Immersed-Settings/index.md","source":"@site/blog/2022-09-31-Immersed-Settings/index.md","title":"My favorite settings for Working in Immersed Mac","description":"In this blogpost, I\'m going to be talking about my favorite setup using Immerese for Mac. B/c yes, I just love sharing my current virtual setup, b/c living in NYC, space is at a premium, and it amazes me of the future! So yes, this is a bit braggy, but I also just hope to share for fun :)) and thanks to the people in the Immersed community Discord, who provided great advice + ideas + help in setting up my current setup.","date":"2022-10-01T00:00:00.000Z","formattedDate":"October 1, 2022","tags":[],"readingTime":2.41,"hasTruncateMarker":false,"authors":[],"frontMatter":{"slug":"immersed-settings","title":"My favorite settings for Working in Immersed Mac"},"prevItem":{"title":"Welcome to my blog!","permalink":"/DevBlog/blog/welcome-dev-log"},"nextItem":{"title":"Working in Immersed - 1ms Latency VR (Tutorial for Mac)","permalink":"/DevBlog/blog/immersed-low-latency"}},"content":"In this blogpost, I\'m going to be talking about my favorite setup using Immerese for Mac. B/c yes, I just love sharing my current virtual setup, b/c living in NYC, space is at a premium, and it amazes me of the future! So yes, this is a bit braggy, but I also just hope to share for fun :)) and thanks to the people in the Immersed community Discord, who provided great advice + ideas + help in setting up my current setup.\\n\\n(Image of me floating around the Earth + chatting in the Immersed discord)\\n![immersedVR](./immersedVR.jpg)\\n\\n# First, Monitors!\\n\\nWhen talking to the Immersed team, I found out that the resolution of the monitors you can spawn in Immeresed is at most, 1920x1080. This is due to them using a VM to represent the screens and it just has a cap to the resolution. While, I can go down a software solution to potentially create my own virtual monitors at a higher resolution, which then gets mirrored into Immersed, I found that I could just buy a [4K ghost plug](https://www.amazon.com/Headless-Display-Emulator-Headless-1920x1080-Generation/dp/B06XT1Z9TF). Which is essentially an HDMI plug that tricks your computer into thinking it has a 4K monitor, without having to actually display the image.\\n\\nI think this is a cheap and great solution. I end up setting these displays to 2048x1080. Even though I can go to 4K, I find the text around the top of the bar, and other parts get way too small. So the 2K resolution, is actually a great sweet spot for me between being able to see, and also having a wide enough monitor to code.\\n\\n![screenRes](./screenres.png)\\n\\n# Second! Retina and Encoding Quality:\\n\\nRetina Quality: 10\\nEncoding Quality: High\\n\\nWhen talking to the Immersed team, I asked them what is retina quality in the Immersed computer app setting. I was told that: \\"if your original resolution is 1920x1080, then 0 will render as 1920x1080 pixel and 10 will render as 3840x2160 for retina display.\\" So obviously, the best thing to do is to set it to 10 for higher resolution. I will say this is only possible however b/c I use a [wire connection using a (currently at the time of writing this) hacky unsupported method](./immersed-low-latency), and the latency / performance hit is able to be handled.\\n\\nFor encoding quality, I was told: \\"Encoding quality really depends on contents. If there\'s lots of movement, higher setting will encode with better quality. It doesn\'t really affect for performance-wise, but it will increase data size that affect latency in slow network.\\" B/c of this, while I could do \\"highest\\", I decided to just leave it to \\"high\\".\\n\\n# Third! Connection setup:\\n\\nUsing a hacky method that someone in the Immersed discord community figured out to allow connecting over a usb connection [that has made my life so much better when working in Immersed, bringing latency down to 1ms-5ms](./immersed-low-latency)."},{"id":"immersed-low-latency","metadata":{"permalink":"/DevBlog/blog/immersed-low-latency","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2022-09-31-Immersed_Low_Latency_VR/index.md","source":"@site/blog/2022-09-31-Immersed_Low_Latency_VR/index.md","title":"Working in Immersed - 1ms Latency VR (Tutorial for Mac)","description":"Recently, I\'ve begun to work in VR, using an app called Immersed. And I have to say it is one of the most gorgeous thing ever. With very limited space, I am now able to work with as many monitors as I want, and have flexibility that I\'ve never had before.","date":"2022-10-01T00:00:00.000Z","formattedDate":"October 1, 2022","tags":[],"readingTime":10.365,"hasTruncateMarker":false,"authors":[],"frontMatter":{"slug":"immersed-low-latency","title":"Working in Immersed - 1ms Latency VR (Tutorial for Mac)"},"prevItem":{"title":"My favorite settings for Working in Immersed Mac","permalink":"/DevBlog/blog/immersed-settings"}},"content":"Recently, I\'ve begun to work in VR, using an app called Immersed. And I have to say it is one of the most gorgeous thing ever. With very limited space, I am now able to work with as many monitors as I want, and have flexibility that I\'ve never had before.\\n\\n(Image of me floating around the Earth + chatting in the Immersed discord)\\n![immersedVR](./immersedVR.jpg)\\n\\n## What is the existing problem?\\n\\nOne of the big problems with Immeresed when I first worked with it for several days was the latency + restriction to be on the same wifi network. Currently, all virtual workspace apps have a restriction to have to stream the display over the same wifi connection. This causes latency of 20ms-50ms depending on your wifi.\\n\\nThe solution would be to use a wired connection, but unfortunately, there is no official SDK from Meta\'s side to allow this type of data streaming connection, and thus, why all solutions, even Meta\'s own Workplace Horizon app, is limited to the same wifi. Maybe as more investigations is done over time, there will be new official options that emerge in the future.\\n\\n## Credit + Solution\\n\\nAs I interacted in the Immersed community, someone in it by Discord name, @OwariDa, figured out how to get a **wired connection working**! His [blog post](https://clevcode.org/low-latency-vr-desktop-with-immersed/). His tutorial is great and has instructions for Window / Mac / Linux, but I just want to write a bit more organized about the Mac side of it and my own finding + following another [Discord user\'s instructions README in the Discord server](https://discord.com/channels/428916969283125268/930540280380268564/1035372771569574038), @woodland, who was able to build ontop of OwariDa post. Please highly recommend, also refer to these other instructions if needbe.\\n\\nBut what I hope with this post is to build ontop of their instructions, maybe make it a tadbit easier to follow for mac, and add some of my own findings.\\n\\n:::note\\n\\nThis approach is a hacky approach, not \\"officially\\" supported by the Immeresed team. So while they can be helpful, they are not responsible nor can provide official support for this.\\n\\n:::\\n\\n## End Results\\n\\nBy the end of it, the goal should be to use a wired connection to Immersed, and have a latency of 1m-5ms latency. This is a huge improvement over the 20ms-50ms that you get with wifi.\\n![msLatency](./1msLatency.png)\\n\\n## Devices this blog is targeted at:\\n\\nQuest 2, Quest Pro, and Mac OS. Though Owarida blog post, goes over Pico4, and again, the other operating systems. I still hope maybe this article, can help give additional context to this process to those trying to get it working.\\n\\n## Notable Alternative\\n\\n[Gnirehtet](https://github.com/Genymobile/gnirehtet) project. As stated in owarida blog post, there is a different project that is able to establish a connection between your headset and computer. I\'m guessing if you use this project, the only additional modification you would need to make is to change the desktop application to look at the local network (which will be part of the blog post) down below. But I couldn\'t get this to work personally.\\n\\n# How to get a wired connection working\\n\\nNote, I highly recommend read this whole article first, as there are some gotchas! And I want you to be aware of it before following fully along.\\n\\n## Definitions\\n\\nAgent - the Immersed Desktop application\\n\\nClient - your headset\\n\\n## Prerequisites\\n\\n1. You must enable developer mode and enable USB debugging. For Quest devices, the steps are [here](https://developer.oculus.com/documentation/native/android/mobile-device-setup/) Make sure that after you get a developer account, you also set your headset to developer mode.\\n\\n2. [Install ADB - Guide how to do it](https://www.xda-developers.com/install-adb-windows-macos-linux/)\\n\\n3. You might need a modified agent from the Immersed Discord community. Depending when you read this, this modified agent, might have already been released, when talking to the devs / Immersed community, but we will get into this later. Definitely check the Discord first, or if it been a while since this post has been written, it should have been released, and maybe even an official alternative to this method.\\n\\n## Context\\n\\nWhat are we about to do? (Note, this is from my own understanding and may not be technically correct.) But should still give you an idea.\\n\\nWhen the client is booted up, it broadcasts packets on your wifi network. If these packets are received by the agent, then the agent will connect to the client. These packets are sent over WIFI / UDP connection. So what we need to do instead is, establish a TCP / wired connection to our computer. And then, when we click on connect to a computer, have it send these packets or request over the wire, and have the agent, respond back to the client over the wire vs trying to stream it back out over wifi. This is the gist of it. (BTW, IK that UDP/TCP are just protocols for communication and not necessarily wired/nonwired connection, just saying that these are the protocols being used in these instances since there is some important differentiation here).\\n\\n## Instructions\\n\\n## First goal: Force the agent to look for connections only on the computer.\\n\\nThe first step is to force the agent to look for connections only on the computer, or essentially only on your localhost. Immersed has a config file, where we can forceIPAddress, to tell the agent to only look for connections on the computer.\\n\\n### Step 1:\\n\\nQuit both the agent and the client.\\n\\n### Step 2:\\n\\nUsing xCode, or software that would let you modify plist files, go to:\\n~/Library/Preferences/team.Immersed.plist\\n\\nDo not use a direct text editor as it is unable to properly write the plist file.\\n\\n### Step 3:\\n\\nIdentify the data key of the file:\\n![plist](./dataKey.png)\\n\\nEx of the data key for me (though I have played around with some values / redacted my client key here):\\n\\n```\\n{\\"Analytics\\":\\"[]\\",\\"Capture\\":\\"{\\\\\\"EnableAppFrames\\\\\\":\\\\\\"1\\\\\\",\\\\\\"FPS\\\\\\":\\\\\\"80.000000\\\\\\",\\\\\\"FPSFor2\\\\\\":\\\\\\"80.000000\\\\\\",\\\\\\"FPSFor4\\\\\\":\\\\\\"45.000000\\\\\\",\\\\\\"SavedFrames\\\\\\":[{\\\\\\"Height\\\\\\":\\\\\\"900\\\\\\",\\\\\\"Index\\\\\\":\\\\\\"VD-2\\\\\\",\\\\\\"RefreshRate\\\\\\":\\\\\\"120.000000\\\\\\",\\\\\\"Width\\\\\\":\\\\\\"1440\\\\\\",\\\\\\"X\\\\\\":\\\\\\"4288\\\\\\",\\\\\\"Y\\\\\\":\\\\\\"76\\\\\\"},{\\\\\\"Height\\\\\\":\\\\\\"1200\\\\\\",\\\\\\"Index\\\\\\":\\\\\\"VD-0\\\\\\",\\\\\\"RefreshRate\\\\\\":\\\\\\"120.000000\\\\\\",\\\\\\"Width\\\\\\":\\\\\\"1920\\\\\\",\\\\\\"X\\\\\\":\\\\\\"808\\\\\\",\\\\\\"Y\\\\\\":\\\\\\"1117\\\\\\"},{\\\\\\"Height\\\\\\":\\\\\\"1117\\\\\\",\\\\\\"Index\\\\\\":\\\\\\"MainDisplay\\\\\\",\\\\\\"RefreshRate\\\\\\":\\\\\\"120.000000\\\\\\",\\\\\\"Width\\\\\\":\\\\\\"1728\\\\\\",\\\\\\"X\\\\\\":\\\\\\"0\\\\\\",\\\\\\"Y\\\\\\":\\\\\\"0\\\\\\"},{\\\\\\"Height\\\\\\":\\\\\\"1200\\\\\\",\\\\\\"Index\\\\\\":\\\\\\"VD-1\\\\\\",\\\\\\"RefreshRate\\\\\\":\\\\\\"120.000000\\\\\\",\\\\\\"Width\\\\\\":\\\\\\"1920\\\\\\",\\\\\\"X\\\\\\":\\\\\\"1728\\\\\\",\\\\\\"Y\\\\\\":\\\\\\"-83\\\\\\"}]}\\",\\"Client\\": [REDACTED],\\"EnableAudio\\":\\"0\\",\\"Encode\\":{\\"Codec\\":\\"3\\",\\"Encoder\\":\\"Auto\\",\\"ForceBitrate\\":\\"0\\",\\"GPU\\":{\\"LocalCaptureFPS\\":\\"60.000000\\",\\"LocalMaxBitrate\\":\\"16000.000000\\",\\"LocalMinBitrate\\":\\"4000.000000\\",\\"RemoteCaptureFPS\\":\\"60.000000\\",\\"RemoteMaxBitrate\\":\\"8000.000000\\",\\"RemoteMinBitrate\\":\\"1000.000000\\"},\\"Quality\\":\\"0.700000\\"},\\"ForceIPAddress\\":\\"127.0.0.1\\",\\"ForcePort\\":\\"0\\",\\"ForceStreamPort\\":\\"0\\",\\"Log\\":\\"{\\\\\\"CurrentSuccessCount\\\\\\":\\\\\\"6\\\\\\",\\\\\\"EnableForceLog\\\\\\":\\\\\\"0\\\\\\"}\\",\\"SettingVersion\\":\\"1\\",\\"WebRTC\\":\\"{}\\"}\\n```\\n\\n## Step 4:\\n\\nFind the `\\"ForceIPAddress\\"` which should be of the value: `\u201cForceIPAddress\u201d: \u201c\u201d` and change it to `\\"ForceIPAddress\\":\\"127.0.0.1\\"`\\n\\nThere is some caution I want to make here. Make sure that the quotes are in the proper place. The first time I did this, they were not. Second, you might need to retype the quotes. When I originally did this, I copied from owarida blogpost, where the quotes look like `\u201d` but I needed to manually type the quotes out so that they looked like `\\"`. If you type it with your own keyboard on the quotes, should be correct.\\n\\n## Step 5:\\n\\nLock the file. In order to do this, find the file in finder. You can type in the terminal `open ~/Library/Preferences/` and use the search bar to search in the preferences folder for the team.Immersed.plist file. Then right click on the file and select \\"Get Info\\". Then check the box that says \\"Locked\\".\\n![lock](./lock.png)\\n\\n## Second Goal [Optional depending on the time of reading this]\\n\\nThis is the most important step!!! When you are reading this, there are two alternatives to go down.\\n\\n1. Using a modified beta-agent that the Immersed Discord Community was able to provide me. Maybe this is something can ask, if can be provided to if you chose to go down this route, or maybe it has already been released. As the mods / devs, were saying they hope to get a release soon (who knows when) to this modified agent.\\n\\nBut the current problem is that the current publicly released agent, even when we set the forcedIPAddress to localhost, it will still try to look for connections over wifi. So the modified agent by the Immersed team, when the forcedIPAddress is set, will not look for wifi connections, thus meaning, we can force it to only look for wired connections. So I first, highly recommend, maybe wait for a release of this modified agent, or maybe the Immersed team will be kind enough to provide it.\\n\\n2. If the agent has not been released, and you want to try to do it with the publicly avaliable agent, then we can just block all UDP packets that are being streamed over the network to our computer. Thus, if the agent is unable to find this packet, will use the localhost connection (wired connection).\\n\\n### Second Goal: Blocking all UDP packets\\n\\nBTW, this is step is only possible if you own the computer. I was trying to do this on my company computer, and I am for obvious reasons not allowed to modify the network configuration, so I used the modified client instead. Also, I found difficulties in getting this to work for my personal computer, so only was able to do this using the modified agent. But, this is still how I did it following owarida\'s blogpost and woodland.\\n\\nB/c the agent is still going to be looking for UDP packets, we want to block all UDP packets coming onto the network coming towards our computer.\\n\\n1. Open Terminal.app and run the command: `ifconfig`\\n2. Look for the en0 interface and copy the \\"broadcast\\" address from the command\\n\\nFor me, I was able to cmd + f for broadcast flag and found the following parts a bit under the en0 section\\n(parts of the number I replaced with xxx)\\n\\n```\\n netmask 0xffffff00 broadcast xxx.xxx.0.255\\n```\\n\\n3. Copy that number: `xxx.xxx.0.255`\\n4. Open the following in a text editor `/etc/pf.conf`\\n5. Add two line breaks after `load anchor \\"com.apple\\" from \\"/etc/pf.anchors/com.apple\\"`\\n6. Type: `block drop in proto udp from any to <BROADCAST ADDRESS YOU GOT>`\\n7. Save the file, you might need to use sudo to save it / type in your computer password.\\n8. Type in the command `sudo pfctl -e` to enable pf\\n9. Type in the command `sudo pfctl -f /etc/pf.conf` to load the config we edited in pf.conf\\n   (If you ever want to delete this configuration in the future: just remove the line and run step 8 and 9 again).\\n\\n## Third Step: Opening a connection between the headset and the computer\\n\\nPlug in your headset, allow in the headset for the computer to be able to talk to your headset if asked.\\n\\nThen run using your ADB command:\\n`adb reverse tcp:21000 tcp:21000 && adb reverse --list`\\n\\nIf you have your adb in a different file path, make sure to specify / cd to wherever it is. This is now opening a connection between our headset and computer. you need to do this every time you plug in your headset. I actually have a tool like Alfred4, which makes it easy for me to set up keybinds for things like this, but you can do it manually too.\\n\\nYou should see the result:\\n`UsbFfs tcp:21000 tcp:21000`\\n\\n## Fourth Step: Run the Immersed Client\\n\\nGo to the Immersive client, and run it. Sit at the choose computer screen.\\n\\n## Fifth step: Run the Immersed Agent.\\n\\n1. As it starts up, double check your plist, still has the forcedIPAddress set.\\n   (BTW, by locking this file, some of your preferences when using Immmersed might not be saved for next session, if you ever find a bug like that).\\n\\n2. Then, as the agent starts up, should say ready to connect, BUT, it should not automatically connect.\\n\\n3. If it automatically connects, something is wrong, and it is still picking up the UDP packets over wifi, if you got this far, and are not using the modified client, you might need to request it from the server.\\n\\n4. Now, on the client, click on the computer you want to connect to, and now it should connect to the agent.\\n5. You might see latency saying it is 1-10ms, but should settle down between 1-5ms after.\\n6. If you unplug the cable, the connection should crash, this is also a way to verify if it is working.\\n\\n## Running this in the future:\\n\\nIn the future, the only requisite is that you need to open the reverse connection with the adb command > then open the Immersed agent. From there, you can open the app before or after opening the agent, and click to connect to the computer.\\n\\nB/c the goal is as always:\\n\\n1. Establish the wire connection, which locally connects your computer to headset\\n2. Tell the computer to look only locally on that computer for that wired connection.\\n3. As long as that is established, you can open your agent and client in any order.\\n\\n# Additional Configurations you can make now:\\n\\nCheck out my other post in [this link](./immersed-settings)"}]}')}}]);