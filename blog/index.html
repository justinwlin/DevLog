<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Blog | DevBlog</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://justinwlin.github.io/DevBlog/blog"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="Blog | DevBlog"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/DevBlog/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://justinwlin.github.io/DevBlog/blog"><link data-rh="true" rel="alternate" href="https://justinwlin.github.io/DevBlog/blog" hreflang="en"><link data-rh="true" rel="alternate" href="https://justinwlin.github.io/DevBlog/blog" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/DevBlog/blog/rss.xml" title="DevBlog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/DevBlog/blog/atom.xml" title="DevBlog Atom Feed"><link rel="stylesheet" href="/DevBlog/assets/css/styles.5cb3ea34.css">
<link rel="preload" href="/DevBlog/assets/js/runtime~main.36557286.js" as="script">
<link rel="preload" href="/DevBlog/assets/js/main.a2a94350.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/DevBlog/"><div class="navbar__logo"><img src="/DevBlog/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/DevBlog/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">My Site</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/DevBlog/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/DevBlog/blog/welcome-dev-log">Welcome to my blog!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/DevBlog/blog/immersed-settings">My favorite settings for Working in Immersed Mac</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/DevBlog/blog/immersed-low-latency">Working in Immersed - 1ms Latency VR (Tutorial for Mac)</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/DevBlog/blog/welcome-dev-log">Welcome to my blog!</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-10-31T02:32:50.000Z" itemprop="datePublished">October 31, 2022</time> · <!-- -->One min read</div></header><div class="markdown" itemprop="articleBody"><p>Welcome to my blog! My name is Justin Lin, I&#x27;m a software engineer, and this is a place for me to just document things that I want to share. Often there might be projects, random thoughts, or instructional posts. I hope you enjoy!</p><p>If you are interested to contact me, feel free to reach out to me at</p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/DevBlog/blog/immersed-settings">My favorite settings for Working in Immersed Mac</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-10-01T00:00:00.000Z" itemprop="datePublished">October 1, 2022</time> · <!-- -->3 min read</div></header><div class="markdown" itemprop="articleBody"><p>In this blogpost, I&#x27;m going to be talking about my favorite setup using Immerese for Mac. B/c yes, I just love sharing my current virtual setup, b/c living in NYC, space is at a premium, and it amazes me of the future! So yes, this is a bit braggy, but I also just hope to share for fun :)) and thanks to the people in the Immersed community Discord, who provided great advice + ideas + help in setting up my current setup.</p><p>(Image of me floating around the Earth + chatting in the Immersed discord)
<img loading="lazy" alt="immersedVR" src="/DevBlog/assets/images/immersedVR-d9ec5d10fc1e4bac4612489b5aa14462.jpg" width="1440" height="1440" class="img_ev3q"></p><h1>First, Monitors!</h1><p>When talking to the Immersed team, I found out that the resolution of the monitors you can spawn in Immeresed is at most, 1920x1080. This is due to them using a VM to represent the screens and it just has a cap to the resolution. While, I can go down a software solution to potentially create my own virtual monitors at a higher resolution, which then gets mirrored into Immersed, I found that I could just buy a <a href="https://www.amazon.com/Headless-Display-Emulator-Headless-1920x1080-Generation/dp/B06XT1Z9TF" target="_blank" rel="noopener noreferrer">4K ghost plug</a>. Which is essentially an HDMI plug that tricks your computer into thinking it has a 4K monitor, without having to actually display the image.</p><p>I think this is a cheap and great solution. I end up setting these displays to 2048x1080. Even though I can go to 4K, I find the text around the top of the bar, and other parts get way too small. So the 2K resolution, is actually a great sweet spot for me between being able to see, and also having a wide enough monitor to code.</p><p><img loading="lazy" alt="screenRes" src="/DevBlog/assets/images/screenres-e5ccbe5ebcd6663a09b7caa747e923f2.png" width="788" height="778" class="img_ev3q"></p><h1>Second! Retina and Encoding Quality:</h1><p>Retina Quality: 10
Encoding Quality: High</p><p>When talking to the Immersed team, I asked them what is retina quality in the Immersed computer app setting. I was told that: &quot;if your original resolution is 1920x1080, then 0 will render as 1920x1080 pixel and 10 will render as 3840x2160 for retina display.&quot; So obviously, the best thing to do is to set it to 10 for higher resolution. I will say this is only possible however b/c I use a <a href="/DevBlog/immersed-low-latency">wire connection using a (currently at the time of writing this) hacky unsupported method</a>, and the latency / performance hit is able to be handled.</p><p>For encoding quality, I was told: &quot;Encoding quality really depends on contents. If there&#x27;s lots of movement, higher setting will encode with better quality. It doesn&#x27;t really affect for performance-wise, but it will increase data size that affect latency in slow network.&quot; B/c of this, while I could do &quot;highest&quot;, I decided to just leave it to &quot;high&quot;.</p><h1>Third! Connection setup:</h1><p>Using a hacky method that someone in the Immersed discord community figured out to allow connecting over a usb connection <a href="/DevBlog/immersed-low-latency">that has made my life so much better when working in Immersed, bringing latency down to 1ms-5ms</a>.</p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/DevBlog/blog/immersed-low-latency">Working in Immersed - 1ms Latency VR (Tutorial for Mac)</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-10-01T00:00:00.000Z" itemprop="datePublished">October 1, 2022</time> · <!-- -->11 min read</div></header><div class="markdown" itemprop="articleBody"><p>Recently, I&#x27;ve begun to work in VR, using an app called Immersed. And I have to say it is one of the most gorgeous thing ever. With very limited space, I am now able to work with as many monitors as I want, and have flexibility that I&#x27;ve never had before.</p><p>(Image of me floating around the Earth + chatting in the Immersed discord)
<img loading="lazy" alt="immersedVR" src="/DevBlog/assets/images/immersedVR-d9ec5d10fc1e4bac4612489b5aa14462.jpg" width="1440" height="1440" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-the-existing-problem">What is the existing problem?<a class="hash-link" href="#what-is-the-existing-problem" title="Direct link to heading">​</a></h2><p>One of the big problems with Immeresed when I first worked with it for several days was the latency + restriction to be on the same wifi network. Currently, all virtual workspace apps have a restriction to have to stream the display over the same wifi connection. This causes latency of 20ms-50ms depending on your wifi.</p><p>The solution would be to use a wired connection, but unfortunately, there is no official SDK from Meta&#x27;s side to allow this type of data streaming connection, and thus, why all solutions, even Meta&#x27;s own Workplace Horizon app, is limited to the same wifi. Maybe as more investigations is done over time, there will be new official options that emerge in the future.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="credit--solution">Credit + Solution<a class="hash-link" href="#credit--solution" title="Direct link to heading">​</a></h2><p>As I interacted in the Immersed community, someone in it by Discord name, @OwariDa, figured out how to get a <strong>wired connection working</strong>! His <a href="https://clevcode.org/low-latency-vr-desktop-with-immersed/" target="_blank" rel="noopener noreferrer">blog post</a>. His tutorial is great and has instructions for Window / Mac / Linux, but I just want to write a bit more organized about the Mac side of it and my own finding + following another <a href="https://discord.com/channels/428916969283125268/930540280380268564/1035372771569574038" target="_blank" rel="noopener noreferrer">Discord user&#x27;s instructions README in the Discord server</a>, @woodland, who was able to build ontop of OwariDa post. Please highly recommend, also refer to these other instructions if needbe.</p><p>But what I hope with this post is to build ontop of their instructions, maybe make it a tadbit easier to follow for mac, and add some of my own findings.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>This approach is a hacky approach, not &quot;officially&quot; supported by the Immeresed team. So while they can be helpful, they are not responsible nor can provide official support for this.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="end-results">End Results<a class="hash-link" href="#end-results" title="Direct link to heading">​</a></h2><p>By the end of it, the goal should be to use a wired connection to Immersed, and have a latency of 1m-5ms latency. This is a huge improvement over the 20ms-50ms that you get with wifi.
<img loading="lazy" alt="msLatency" src="/DevBlog/assets/images/1msLatency-23b5f77af4fb0854e49a143743b71f21.png" width="892" height="352" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="devices-this-blog-is-targeted-at">Devices this blog is targeted at:<a class="hash-link" href="#devices-this-blog-is-targeted-at" title="Direct link to heading">​</a></h2><p>Quest 2, Quest Pro, and Mac OS. Though Owarida blog post, goes over Pico4, and again, the other operating systems. I still hope maybe this article, can help give additional context to this process to those trying to get it working.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="notable-alternative">Notable Alternative<a class="hash-link" href="#notable-alternative" title="Direct link to heading">​</a></h2><p><a href="https://github.com/Genymobile/gnirehtet" target="_blank" rel="noopener noreferrer">Gnirehtet</a> project. As stated in owarida blog post, there is a different project that is able to establish a connection between your headset and computer. I&#x27;m guessing if you use this project, the only additional modification you would need to make is to change the desktop application to look at the local network (which will be part of the blog post) down below. But I couldn&#x27;t get this to work personally.</p><h1>How to get a wired connection working</h1><p>Note, I highly recommend read this whole article first, as there are some gotchas! And I want you to be aware of it before following fully along.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="definitions">Definitions<a class="hash-link" href="#definitions" title="Direct link to heading">​</a></h2><p>Agent - the Immersed Desktop application</p><p>Client - your headset</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">​</a></h2><ol><li><p>You must enable developer mode and enable USB debugging. For Quest devices, the steps are <a href="https://developer.oculus.com/documentation/native/android/mobile-device-setup/" target="_blank" rel="noopener noreferrer">here</a> Make sure that after you get a developer account, you also set your headset to developer mode.</p></li><li><p><a href="https://www.xda-developers.com/install-adb-windows-macos-linux/" target="_blank" rel="noopener noreferrer">Install ADB - Guide how to do it</a></p></li><li><p>You might need a modified agent from the Immersed Discord community. Depending when you read this, this modified agent, might have already been released, when talking to the devs / Immersed community, but we will get into this later. Definitely check the Discord first, or if it been a while since this post has been written, it should have been released, and maybe even an official alternative to this method.</p></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="context">Context<a class="hash-link" href="#context" title="Direct link to heading">​</a></h2><p>What are we about to do? (Note, this is from my own understanding and may not be technically correct.) But should still give you an idea.</p><p>When the client is booted up, it broadcasts packets on your wifi network. If these packets are received by the agent, then the agent will connect to the client. These packets are sent over WIFI / UDP connection. So what we need to do instead is, establish a TCP / wired connection to our computer. And then, when we click on connect to a computer, have it send these packets or request over the wire, and have the agent, respond back to the client over the wire vs trying to stream it back out over wifi. This is the gist of it. (BTW, IK that UDP/TCP are just protocols for communication and not necessarily wired/nonwired connection, just saying that these are the protocols being used in these instances since there is some important differentiation here).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="instructions">Instructions<a class="hash-link" href="#instructions" title="Direct link to heading">​</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="first-goal-force-the-agent-to-look-for-connections-only-on-the-computer">First goal: Force the agent to look for connections only on the computer.<a class="hash-link" href="#first-goal-force-the-agent-to-look-for-connections-only-on-the-computer" title="Direct link to heading">​</a></h2><p>The first step is to force the agent to look for connections only on the computer, or essentially only on your localhost. Immersed has a config file, where we can forceIPAddress, to tell the agent to only look for connections on the computer.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1">Step 1:<a class="hash-link" href="#step-1" title="Direct link to heading">​</a></h3><p>Quit both the agent and the client.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2">Step 2:<a class="hash-link" href="#step-2" title="Direct link to heading">​</a></h3><p>Using xCode, or software that would let you modify plist files, go to:
~/Library/Preferences/team.Immersed.plist</p><p>Do not use a direct text editor as it is unable to properly write the plist file.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-3">Step 3:<a class="hash-link" href="#step-3" title="Direct link to heading">​</a></h3><p>Identify the data key of the file:
<img loading="lazy" alt="plist" src="/DevBlog/assets/images/dataKey-ed78bde74bde60b0b427de18653ff343.png" width="692" height="722" class="img_ev3q"></p><p>Ex of the data key for me (though I have played around with some values / redacted my client key here):</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{&quot;Analytics&quot;:&quot;[]&quot;,&quot;Capture&quot;:&quot;{\&quot;EnableAppFrames\&quot;:\&quot;1\&quot;,\&quot;FPS\&quot;:\&quot;80.000000\&quot;,\&quot;FPSFor2\&quot;:\&quot;80.000000\&quot;,\&quot;FPSFor4\&quot;:\&quot;45.000000\&quot;,\&quot;SavedFrames\&quot;:[{\&quot;Height\&quot;:\&quot;900\&quot;,\&quot;Index\&quot;:\&quot;VD-2\&quot;,\&quot;RefreshRate\&quot;:\&quot;120.000000\&quot;,\&quot;Width\&quot;:\&quot;1440\&quot;,\&quot;X\&quot;:\&quot;4288\&quot;,\&quot;Y\&quot;:\&quot;76\&quot;},{\&quot;Height\&quot;:\&quot;1200\&quot;,\&quot;Index\&quot;:\&quot;VD-0\&quot;,\&quot;RefreshRate\&quot;:\&quot;120.000000\&quot;,\&quot;Width\&quot;:\&quot;1920\&quot;,\&quot;X\&quot;:\&quot;808\&quot;,\&quot;Y\&quot;:\&quot;1117\&quot;},{\&quot;Height\&quot;:\&quot;1117\&quot;,\&quot;Index\&quot;:\&quot;MainDisplay\&quot;,\&quot;RefreshRate\&quot;:\&quot;120.000000\&quot;,\&quot;Width\&quot;:\&quot;1728\&quot;,\&quot;X\&quot;:\&quot;0\&quot;,\&quot;Y\&quot;:\&quot;0\&quot;},{\&quot;Height\&quot;:\&quot;1200\&quot;,\&quot;Index\&quot;:\&quot;VD-1\&quot;,\&quot;RefreshRate\&quot;:\&quot;120.000000\&quot;,\&quot;Width\&quot;:\&quot;1920\&quot;,\&quot;X\&quot;:\&quot;1728\&quot;,\&quot;Y\&quot;:\&quot;-83\&quot;}]}&quot;,&quot;Client&quot;: [REDACTED],&quot;EnableAudio&quot;:&quot;0&quot;,&quot;Encode&quot;:{&quot;Codec&quot;:&quot;3&quot;,&quot;Encoder&quot;:&quot;Auto&quot;,&quot;ForceBitrate&quot;:&quot;0&quot;,&quot;GPU&quot;:{&quot;LocalCaptureFPS&quot;:&quot;60.000000&quot;,&quot;LocalMaxBitrate&quot;:&quot;16000.000000&quot;,&quot;LocalMinBitrate&quot;:&quot;4000.000000&quot;,&quot;RemoteCaptureFPS&quot;:&quot;60.000000&quot;,&quot;RemoteMaxBitrate&quot;:&quot;8000.000000&quot;,&quot;RemoteMinBitrate&quot;:&quot;1000.000000&quot;},&quot;Quality&quot;:&quot;0.700000&quot;},&quot;ForceIPAddress&quot;:&quot;127.0.0.1&quot;,&quot;ForcePort&quot;:&quot;0&quot;,&quot;ForceStreamPort&quot;:&quot;0&quot;,&quot;Log&quot;:&quot;{\&quot;CurrentSuccessCount\&quot;:\&quot;6\&quot;,\&quot;EnableForceLog\&quot;:\&quot;0\&quot;}&quot;,&quot;SettingVersion&quot;:&quot;1&quot;,&quot;WebRTC&quot;:&quot;{}&quot;}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-4">Step 4:<a class="hash-link" href="#step-4" title="Direct link to heading">​</a></h2><p>Find the <code>&quot;ForceIPAddress&quot;</code> which should be of the value: <code>“ForceIPAddress”: “”</code> and change it to <code>&quot;ForceIPAddress&quot;:&quot;127.0.0.1&quot;</code></p><p>There is some caution I want to make here. Make sure that the quotes are in the proper place. The first time I did this, they were not. Second, you might need to retype the quotes. When I originally did this, I copied from owarida blogpost, where the quotes look like <code>”</code> but I needed to manually type the quotes out so that they looked like <code>&quot;</code>. If you type it with your own keyboard on the quotes, should be correct.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-5">Step 5:<a class="hash-link" href="#step-5" title="Direct link to heading">​</a></h2><p>Lock the file. In order to do this, find the file in finder. You can type in the terminal <code>open ~/Library/Preferences/</code> and use the search bar to search in the preferences folder for the team.Immersed.plist file. Then right click on the file and select &quot;Get Info&quot;. Then check the box that says &quot;Locked&quot;.
<img loading="lazy" alt="lock" src="/DevBlog/assets/images/lock-a3d7af7ce637c37fa60a033f3379a6e9.png" width="1172" height="540" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="second-goal-optional-depending-on-the-time-of-reading-this">Second Goal <!-- -->[Optional depending on the time of reading this]<a class="hash-link" href="#second-goal-optional-depending-on-the-time-of-reading-this" title="Direct link to heading">​</a></h2><p>This is the most important step!!! When you are reading this, there are two alternatives to go down.</p><ol><li>Using a modified beta-agent that the Immersed Discord Community was able to provide me. Maybe this is something can ask, if can be provided to if you chose to go down this route, or maybe it has already been released. As the mods / devs, were saying they hope to get a release soon (who knows when) to this modified agent.</li></ol><p>But the current problem is that the current publicly released agent, even when we set the forcedIPAddress to localhost, it will still try to look for connections over wifi. So the modified agent by the Immersed team, when the forcedIPAddress is set, will not look for wifi connections, thus meaning, we can force it to only look for wired connections. So I first, highly recommend, maybe wait for a release of this modified agent, or maybe the Immersed team will be kind enough to provide it.</p><ol start="2"><li>If the agent has not been released, and you want to try to do it with the publicly avaliable agent, then we can just block all UDP packets that are being streamed over the network to our computer. Thus, if the agent is unable to find this packet, will use the localhost connection (wired connection).</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="second-goal-blocking-all-udp-packets">Second Goal: Blocking all UDP packets<a class="hash-link" href="#second-goal-blocking-all-udp-packets" title="Direct link to heading">​</a></h3><p>BTW, this is step is only possible if you own the computer. I was trying to do this on my company computer, and I am for obvious reasons not allowed to modify the network configuration, so I used the modified client instead. Also, I found difficulties in getting this to work for my personal computer, so only was able to do this using the modified agent. But, this is still how I did it following owarida&#x27;s blogpost and woodland.</p><p>B/c the agent is still going to be looking for UDP packets, we want to block all UDP packets coming onto the network coming towards our computer.</p><ol><li>Open Terminal.app and run the command: <code>ifconfig</code></li><li>Look for the en0 interface and copy the &quot;broadcast&quot; address from the command</li></ol><p>For me, I was able to cmd + f for broadcast flag and found the following parts a bit under the en0 section
(parts of the number I replaced with xxx)</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> netmask 0xffffff00 broadcast xxx.xxx.0.255</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>Copy that number: <code>xxx.xxx.0.255</code></li><li>Open the following in a text editor <code>/etc/pf.conf</code></li><li>Add two line breaks after <code>load anchor &quot;com.apple&quot; from &quot;/etc/pf.anchors/com.apple&quot;</code></li><li>Type: <code>block drop in proto udp from any to &lt;BROADCAST ADDRESS YOU GOT&gt;</code></li><li>Save the file, you might need to use sudo to save it / type in your computer password.</li><li>Type in the command <code>sudo pfctl -e</code> to enable pf</li><li>Type in the command <code>sudo pfctl -f /etc/pf.conf</code> to load the config we edited in pf.conf
(If you ever want to delete this configuration in the future: just remove the line and run step 8 and 9 again).</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="third-step-opening-a-connection-between-the-headset-and-the-computer">Third Step: Opening a connection between the headset and the computer<a class="hash-link" href="#third-step-opening-a-connection-between-the-headset-and-the-computer" title="Direct link to heading">​</a></h2><p>Plug in your headset, allow in the headset for the computer to be able to talk to your headset if asked.</p><p>Then run using your ADB command:
<code>adb reverse tcp:21000 tcp:21000 &amp;&amp; adb reverse --list</code></p><p>If you have your adb in a different file path, make sure to specify / cd to wherever it is. This is now opening a connection between our headset and computer. you need to do this every time you plug in your headset. I actually have a tool like Alfred4, which makes it easy for me to set up keybinds for things like this, but you can do it manually too.</p><p>You should see the result:
<code>UsbFfs tcp:21000 tcp:21000</code></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="fourth-step-run-the-immersed-client">Fourth Step: Run the Immersed Client<a class="hash-link" href="#fourth-step-run-the-immersed-client" title="Direct link to heading">​</a></h2><p>Go to the Immersive client, and run it. Sit at the choose computer screen.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="fifth-step-run-the-immersed-agent">Fifth step: Run the Immersed Agent.<a class="hash-link" href="#fifth-step-run-the-immersed-agent" title="Direct link to heading">​</a></h2><ol><li><p>As it starts up, double check your plist, still has the forcedIPAddress set.
(BTW, by locking this file, some of your preferences when using Immmersed might not be saved for next session, if you ever find a bug like that).</p></li><li><p>Then, as the agent starts up, should say ready to connect, BUT, it should not automatically connect.</p></li><li><p>If it automatically connects, something is wrong, and it is still picking up the UDP packets over wifi, if you got this far, and are not using the modified client, you might need to request it from the server.</p></li><li><p>Now, on the client, click on the computer you want to connect to, and now it should connect to the agent.</p></li><li><p>You might see latency saying it is 1-10ms, but should settle down between 1-5ms after.</p></li><li><p>If you unplug the cable, the connection should crash, this is also a way to verify if it is working.</p></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="running-this-in-the-future">Running this in the future:<a class="hash-link" href="#running-this-in-the-future" title="Direct link to heading">​</a></h2><p>In the future, the only requisite is that you need to open the reverse connection with the adb command &gt; then open the Immersed agent. From there, you can open the app before or after opening the agent, and click to connect to the computer.</p><p>B/c the goal is as always:</p><ol><li>Establish the wire connection, which locally connects your computer to headset</li><li>Tell the computer to look only locally on that computer for that wired connection.</li><li>As long as that is established, you can open your agent and client in any order.</li></ol><h1>Additional Configurations you can make now:</h1><p>Check out my other post in <a href="/DevBlog/immersed-settings">this link</a></p></div><footer class="row docusaurus-mt-lg"></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Social Media</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://beacons.ai/justinlin" target="_blank" rel="noopener noreferrer" class="footer__link-item">Beacon Page<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/DevBlog/assets/js/runtime~main.36557286.js"></script>
<script src="/DevBlog/assets/js/main.a2a94350.js"></script>
</body>
</html>